-- // Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")

-- // GUI
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.ResetOnSpawn = false

-- Main Frame
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 250, 0, 300)
MainFrame.Position = UDim2.new(0.5, -125, 0.2, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(240,240,240)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true

-- UI Corner
local mainCorner = Instance.new("UICorner", MainFrame)
mainCorner.CornerRadius = UDim.new(0,15)

-- Label Versi
local VersionLabel = Instance.new("TextLabel", MainFrame)
VersionLabel.Size = UDim2.new(0.6,0,0,25)
VersionLabel.Position = UDim2.new(0.05,0,0.02,0)
VersionLabel.BackgroundColor3 = Color3.fromRGB(180,180,255)
VersionLabel.Text = "Versi : 0.0.1"
VersionLabel.Font = Enum.Font.GothamBold
VersionLabel.TextSize = 14
VersionLabel.TextColor3 = Color3.new(1,1,1)
local vCorner = Instance.new("UICorner", VersionLabel)
vCorner.CornerRadius = UDim.new(1,0)

-- Tombol Minimize
local MinBtn = Instance.new("TextButton", MainFrame)
MinBtn.Size = UDim2.new(0,25,0,25)
MinBtn.Position = UDim2.new(0.88,0,0.02,0)
MinBtn.Text = "-"
MinBtn.BackgroundColor3 = Color3.fromRGB(255,100,100)
MinBtn.TextColor3 = Color3.new(1,1,1)
local minCorner = Instance.new("UICorner", MinBtn)
minCorner.CornerRadius = UDim.new(1,0)

-- Tombol Fly
local FlyBtn = Instance.new("TextButton", MainFrame)
FlyBtn.Size = UDim2.new(0.9,0,0,40)
FlyBtn.Position = UDim2.new(0.05,0,0.15,0)
FlyBtn.Text = "TERBANG"
FlyBtn.Font = Enum.Font.GothamBold
FlyBtn.TextSize = 18
FlyBtn.BackgroundColor3 = Color3.fromRGB(90,90,180)
FlyBtn.TextColor3 = Color3.new(1,1,1)
local flyCorner = Instance.new("UICorner", FlyBtn)
flyCorner.CornerRadius = UDim.new(0,10)

-- Tombol Teleport
local TeleBtn = Instance.new("TextButton", MainFrame)
TeleBtn.Size = UDim2.new(0.9,0,0,40)
TeleBtn.Position = UDim2.new(0.05,0,0.3,0)
TeleBtn.Text = "TELEPORT"
TeleBtn.Font = Enum.Font.GothamBold
TeleBtn.TextSize = 18
TeleBtn.BackgroundColor3 = Color3.fromRGB(90,90,180)
TeleBtn.TextColor3 = Color3.new(1,1,1)
local teleCorner = Instance.new("UICorner", TeleBtn)
teleCorner.CornerRadius = UDim.new(0,10)

-- Label Koordinasi (di bawah GUI)
local CoordBtn = Instance.new("TextLabel", MainFrame)
CoordBtn.Size = UDim2.new(0.9,0,0,35)
CoordBtn.Position = UDim2.new(0.05,0,0.85,0)
CoordBtn.Text = "KORDINASI"
CoordBtn.Font = Enum.Font.GothamBold
CoordBtn.TextSize = 16
CoordBtn.BackgroundColor3 = Color3.fromRGB(255,255,255)
CoordBtn.TextColor3 = Color3.fromRGB(0,0,0)
local coordCorner = Instance.new("UICorner", CoordBtn)
coordCorner.CornerRadius = UDim.new(1,0)

-- Checkpoint List Frame
local listFrame = Instance.new("ScrollingFrame", ScreenGui)
listFrame.Size = UDim2.new(0,200,0,200)
listFrame.Position = UDim2.new(0.5,-100,0.55,0)
listFrame.BackgroundColor3 = Color3.fromRGB(240,240,255)
listFrame.Visible = false
listFrame.Active = true
listFrame.Draggable = true
listFrame.ScrollBarThickness = 6
listFrame.CanvasSize = UDim2.new(0,0,0,0)

local uiList = Instance.new("UIListLayout", listFrame)
uiList.SortOrder = Enum.SortOrder.LayoutOrder
uiList.Padding = UDim.new(0,2)

uiList.Changed:Connect(function()
	listFrame.CanvasSize = UDim2.new(0,0,0,uiList.AbsoluteContentSize.Y)
end)

local closeBtn = Instance.new("TextButton", listFrame)
closeBtn.Size = UDim2.new(1,0,0,25)
closeBtn.Text = "X Tutup"
closeBtn.BackgroundColor3 = Color3.fromRGB(255,180,180)
closeBtn.MouseButton1Click:Connect(function()
	listFrame.Visible = false
end)

-- Bardenss Text (Animasi Muncul)
local Bardenss = Instance.new("TextLabel", ScreenGui)
Bardenss.Size = UDim2.new(1,0,0,50)
Bardenss.Position = UDim2.new(0,0,0.05,0)
Bardenss.Text = "Bardenss"
Bardenss.Font = Enum.Font.GothamBold
Bardenss.TextSize = 32
Bardenss.TextColor3 = Color3.new(1,1,1)
Bardenss.BackgroundTransparency = 1
Bardenss.TextStrokeTransparency = 0.5
Bardenss.TextTransparency = 1

local tweenIn = TweenService:Create(Bardenss, TweenInfo.new(1, Enum.EasingStyle.Quad), {TextTransparency = 0})
local tweenOut = TweenService:Create(Bardenss, TweenInfo.new(1, Enum.EasingStyle.Quad), {TextTransparency = 1})

tweenIn:Play()
tweenIn.Completed:Wait()
task.wait(2)
tweenOut:Play()
tweenOut.Completed:Wait()
Bardenss:Destroy()

-- // FLY SYSTEM
local flying = false
local bodyVelocity, bodyGyro

local function mobileFly()
    if flying then return end
    flying = true
    local hrp = HumanoidRootPart
    bodyVelocity = Instance.new("BodyVelocity")
    bodyVelocity.Velocity = Vector3.zero
    bodyVelocity.MaxForce = Vector3.new(4000,4000,4000)
    bodyVelocity.Parent = hrp

    bodyGyro = Instance.new("BodyGyro")
    bodyGyro.MaxTorque = Vector3.new(400000,400000,400000)
    bodyGyro.CFrame = hrp.CFrame
    bodyGyro.Parent = hrp

    RunService.RenderStepped:Connect(function()
        if flying and hrp then
            local camCF = workspace.CurrentCamera.CFrame
            local moveDirection = Vector3.zero
            if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveDirection += camCF.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveDirection -= camCF.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveDirection -= camCF.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveDirection += camCF.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveDirection += Vector3.new(0,1,0) end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then moveDirection -= Vector3.new(0,1,0) end
            bodyVelocity.Velocity = moveDirection * 100
            bodyGyro.CFrame = camCF
        end
    end)
end

local function stopFly()
    flying = false
    if bodyVelocity then bodyVelocity:Destroy() bodyVelocity = nil end
    if bodyGyro then bodyGyro:Destroy() bodyGyro = nil end
end

-- // Update Koordinasi
RunService.RenderStepped:Connect(function()
    if HumanoidRootPart and CoordBtn then
        local pos = HumanoidRootPart.Position
        CoordBtn.Text = string.format("X: %.1f | Y: %.1f | Z: %.1f", pos.X, pos.Y, pos.Z)
    end
end)

-- // Button Functions
FlyBtn.MouseButton1Click:Connect(function()
    if flying then
        stopFly()
        FlyBtn.Text = "TERBANG"
    else
        mobileFly()
        FlyBtn.Text = "STOP"
    end
end)

TeleBtn.MouseButton1Click:Connect(function()
    listFrame.Visible = not listFrame.Visible
end)

MinBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = not MainFrame.Visible
end)